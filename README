--------------------------------------------------------------------------
|		 						From Karteek							 |
--------------------------------------------------------------------------

== Karteek's Etherpad Fork ==
Package
+ Etherpad source from http://code.google.com/p/etherpad
+ Some minor fixes/changes here and there
+ Oo.org integration for file exports and file imports from DOC/RTF format
- Commented code for File imports due to license restrictions

How to
1. Grab the code from github
	$ git clone git://github.com/karteek/etherpad.git

2. Set up the environment in env.sh and source the file. The settings inside are 
from my MBP. Do update them to meet your machine's settings.
	$ source env.sh

3. Create a database "etherpad", add a user "etherpad" with password "password" on a MySQL database server. Grant all privileges for on database etherpad to etherpad@localhost

4. Update etherpad.SQL_JDBC_URL, etherpad.SQL_USERNAME, etherpad.SQL_PASSWORD and
etherpad.adminPass in the file "etherpad/etc/etherpad.localdev-default.properties"

5. Change dir to etherpad, compile the jar and start the server
	$ cd etherpad
	$ bin/rebuildjar.sh
	$ bin/run-local.sh

6. You are done. Visit http://localhost:9000 to check your instance

How to Enable File Imports
1. File Imports depend on cos.jar (http://www.servlets.com/cos/) - com.oreilly.servlet

2. Do read the license http://www.servlets.com/cos/license.html

3. Even now, if you want to continue with imports,
	- Download cos.jar from the site and copy it to infrastructure/lib folder
	- In infrastructure folder, find out the files, where imports functionality is commented
		$ grep -R "REMOVED_COS_OF_COS" *
	- Uncomment and recompile JAR

How to Enable Exports
1. Make sure that there is a "etherpad.soffice" entry in the file
"etherpad/etc/etherpad.localdev-default.properties"

2. You need Openoffice.org to be running on your machine as service. It usually on linux is
	$ /path/to/openoffice/program/soffice.bin -headless -nofirststartwizard 
	           -accept="socket,host=localhost,port=8100;urp;StarOffice.Service"

3. Check the file "infrastructure/com.etherpad.openofficeservice/importexport.scala" 
for more info

How to deploy the same on example.com
1. Edit your dns and point *.example.com to the same server where example.com resides
2. Make sure that your SMTP is working
3. Open etherpad/src/main.js, and update domain in line #273
4. Open etherpad/src/etherpad/globals.js and change the domain in variable 
SUPERDOMAINS found at line #30
5. Open etherpad/src/static/crossdomain.xml and add your domain to crossdomains.xml
6. Look into the src folder and update your domain where etherpad.com is used (especially emails)
	$ grep -ir "etherpad.com" *
and update domain in all the files.
7. Open etherpad/etc/etherpad.localdev-default.properties and update
	- devMode to false
	- etherpad.isProduction to true
	- listen to example.com:80
and change passwords too.
8. Now start the server. You will need root access on OS X to bind to ports < 1000.
	$ bin/run-local.sh

How to do the same on example.com but with a reverse proxy on Apache
1. Do steps 1 thru 7 in above. But dont update listen as told in 7, rather update
listen to example.com:9000
2. Create a vhost entry. It might look like ..
--
<VirtualHost *:80>
	ServerName      example.com
	ServerAdmin     admin@example.com
	ErrorLog        /var/log/apache2/etherpad.error.log
	LogLevel warn
	CustomLog /var/log/apache2/etherpad.access.log combined
	ServerSignature Off
    ProxyPass / http://localhost:9000/ 
    ProxyPassReverse / http://localhost:9000/
    ProxyPreserveHost on
    <Proxy *> 
            Options FollowSymLinks MultiViews
            AllowOverride All
            Order allow,deny
            allow from all
    </Proxy>
</VirtualHost>
3. Restart apache, and things should work


--------------------------------------------------------------------------
|		 					From Etherpad Team							 |
--------------------------------------------------------------------------


EtherPad is a web-based realtime collaborative document editor.

EtherPad currently lives at http://code.google.com/p/etherpad

For instructions to build and run EtherPad, see: http://code.google.com/p/etherpad/wiki/Instructions

This distribution includes some code written by other organizations. 
The rest is Copyright 2007-2009 Google Inc. and licensed under the Apache License 2.0.

>>>>>>>>>>>>>>
Apache Commons Lang
Copyright 2001-2008 The Apache Software Foundation

This product includes software developed by
The Apache Software Foundation (http://www.apache.org/).

=========================================================================
==  NOTICE file corresponding to section 4(d) of the Apache License,   ==
==  Version 2.0, in this case for the Apache Derby distribution.       ==
=========================================================================

>>>>>>>>>>>>>>
Apache Derby
Copyright 2004-2008 The Apache Software Foundation

This product includes software developed by
The Apache Software Foundation (http://www.apache.org/).

Portions of Derby were originally developed by
International Business Machines Corporation and are
licensed to the Apache Software Foundation under the
"Software Grant and Corporate Contribution License Agreement",
informally known as the "Derby CLA".
The following copyright notice(s) were affixed to portions of the code
with which this file is now or was at one time distributed
and are placed here unaltered.

(C) Copyright 1997,2004 International Business Machines Corporation.  All rights reserved.

(C) Copyright IBM Corp. 2003. 

The portion of the functionTests under 'nist' was originally 
developed by the National Institute of Standards and Technology (NIST), 
an agency of the United States Department of Commerce, and adapted by
International Business Machines Corporation in accordance with the NIST
Software Acknowledgment and Redistribution document at
http://www.itl.nist.gov/div897/ctg/sql_form.htm

>>>>>>>>>>>>>>
Apache Harmony
Copyright 2006, 2009 The Apache Software Foundation.

This product includes software developed at
The Apache Software Foundation (http://www.apache.org/).

Portions of Apache Harmony were originally developed by
Intel Corporation and are licensed to the Apache Software
Foundation under the "Software Grant and Corporate Contribution
License Agreement" and for which the following copyright notices
apply
         (C) Copyright 2005 Intel Corporation
         (C) Copyright 2005-2006 Intel Corporation
         (C) Copyright 2006 Intel Corporation

>>>>>>>>>>>>>>
==============================================================
 Jetty Web Container 
 Copyright 1995-2006 Mort Bay Consulting Pty Ltd
==============================================================

The Jetty Web Container is Copyright Mort Bay Consulting Pty Ltd
unless otherwise noted. It is licensed under the apache 2.0
license.

The javax.servlet package used by Jetty is copyright 
Sun Microsystems, Inc and Apache Software Foundation. It is 
distributed under the Common Development and Distribution License.
You can obtain a copy of the license at 
https://glassfish.dev.java.net/public/CDDLv1.0.html.

The UnixCrypt.java code ~Implements the one way cryptography used by
Unix systems for simple password protection.  Copyright 1996 Aki Yoshida,
modified April 2001  by Iris Van den Broeke, Daniel Deville.
Permission to use, copy, modify and distribute UnixCrypt 
for non-commercial or commercial purposes and without fee is
granted provided that the copyright notice appears in all copies.

The default JSP implementation is provided by the Glassfish JSP engine
from project Glassfish http://glassfish.dev.java.net.  Copyright 2005
Sun Microsystems, Inc. and portions Copyright Apache Software Foundation.

Some portions of the code are Copyright:
  2006 Tim Vernum 
  1999 Jason Gilbert.

The jboss integration module contains some LGPL code.

The win32 Java Service Wrapper (v3.2.3) is Copyright (c) 1999, 2006 
Tanuki Software, Inc.  and 2001 Silver Egg Technology.  It is 
covered by an open license which is viewable at
http://svn.codehaus.org/jetty/jetty/branches/jetty-6.1/extras/win32service/LICENSE.txt

>>>>>>>>>>>>>>
Apache Sanselan
Copyright 2007-2009 The Apache Software Foundation.

This product includes software developed at
The Apache Software Foundation (http://www.apache.org/).

>>>>>>>>>>>>>>
TagSoup
Copyright 2002-2008 by John Cowan

>>>>>>>>>>>>>>
dnsjava:

Copyright (c) 1999-2005, Brian Wellington
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright notice,
      this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright notice,
      this list of conditions and the following disclaimer in the documentation
      and/or other materials provided with the distribution.
    * Neither the name of the dnsjava project nor the names of its contributors
      may be used to endorse or promote products derived from this software
      without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

>>>>>>>>>>>>>>
jBCrypt:

Copyright (c) 2006 Damien Miller 

Permission to use, copy, modify, and distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.

>>>>>>>>>>>>>>
Scala:

Copyright (c) 2002-2009 EPFL, Lausanne, unless otherwise specified.
All rights reserved.

This software was developed by the Programming Methods Laboratory of the
Swiss Federal Institute of Technology (EPFL), Lausanne, Switzerland.

Permission to use, copy, modify, and distribute this software in source
or binary form for any purpose with or without fee is hereby granted,
provided that the following conditions are met:

   1. Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.

   2. Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

   3. Neither the name of the EPFL nor the names of its contributors
      may be used to endorse or promote products derived from this
      software without specific prior written permission.


THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED. IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
SUCH DAMAGE.
    
>>>>>>>>>>>>>>
YUI Compressor:

Copyright (c) 2009, Yahoo! Inc.
All rights reserved.

Redistribution and use of this software in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
    * Redistributions of source code must retain the above copyright notice,
      this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright notice,
      this list of conditions and the following disclaimer in the documentation
      and/or other materials provided with the distribution.
    * Neither the name of Yahoo! Inc. nor the names of its contributors may be
      used to endorse or promote products derived from this software without 
      specific prior written permission of Yahoo! Inc.
      
THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

>>>>>>>>>>>>>>
jQuery
Copyright (c) 2009 John Resig, http://jquery.com/

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

>>>>>>>>>>>>>>
jQuery Pulse:

Copyright (c) 2008 James Padolsey - jp(at)qd9(dot)co.uk | http://james.padolsey.com / http://enhance.qd-creative.co.uk
      
Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

>>>>>>>>>>>>>>
SWFObject v1.5
Copyright (c) 2007 Geoff Stearns

Licensed under the MIT License

>>>>>>>>>>>>>>
jQuery Context Menu Plugin:

Original version copyright 2008 A Beautiful Site, LLC. Modifications by AppJet, Inc. released under the same license.
      
Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

>>>>>>>>>>>>>>
c3p0
Copyright (c) 2006 Machinery for Change, Inc.

Licensed under the LGPL 2.1

>>>>>>>>>>>>>>
JCommon, JFreeChart
Copyright (c) 2007-2009 Object Refinery Limited

Licensed under the LGPL 2.1

>>>>>>>>>>>>>>
Mozilla Rhino

Licensed under the MPL 1.1, GPL 2.0 or later


>>>>>>>>>>>>>>
MySQL Connector

Licensed uder the GPL 2.0 or later with the FOSS exception
